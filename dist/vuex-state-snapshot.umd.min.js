!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("lodash/cloneDeep"),require("vuex")):"function"==typeof define&&define.amd?define(["exports","lodash/cloneDeep","vuex"],e):e((t=t||self).VuexStateSnapshot={},t._.cloneDeep,t.Vuex)}(this,(function(t,e,n){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function o(t,e){return t(e={exports:{}},e.exports),e.exports}var i,u,a,c=function(t){return t&&t.Math==Math&&t},f=c("object"==typeof globalThis&&globalThis)||c("object"==typeof window&&window)||c("object"==typeof self&&self)||c("object"==typeof r&&r)||Function("return this")(),l=function(t){try{return!!t()}catch(t){return!0}},s=!l((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),p={}.propertyIsEnumerable,d=Object.getOwnPropertyDescriptor,h={f:d&&!p.call({1:2},1)?function(t){var e=d(this,t);return!!e&&e.enumerable}:p},y=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},v={}.toString,g=function(t){return v.call(t).slice(8,-1)},m="".split,b=l((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==g(t)?m.call(t,""):Object(t)}:Object,S=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},w=function(t){return b(S(t))},O=function(t){return"object"==typeof t?null!==t:"function"==typeof t},j=function(t,e){if(!O(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!O(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!O(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!O(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},x={}.hasOwnProperty,P=function(t,e){return x.call(t,e)},E=f.document,k=O(E)&&O(E.createElement),M=function(t){return k?E.createElement(t):{}},T=!s&&!l((function(){return 7!=Object.defineProperty(M("div"),"a",{get:function(){return 7}}).a})),N=Object.getOwnPropertyDescriptor,A={f:s?N:function(t,e){if(t=w(t),e=j(e,!0),T)try{return N(t,e)}catch(t){}if(P(t,e))return y(!h.f.call(t,e),t[e])}},L=function(t){if(!O(t))throw TypeError(String(t)+" is not an object");return t},C=Object.defineProperty,I={f:s?C:function(t,e,n){if(L(t),e=j(e,!0),L(n),T)try{return C(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},D=s?function(t,e,n){return I.f(t,e,y(1,n))}:function(t,e,n){return t[e]=n,t},_=function(t,e){try{D(f,t,e)}catch(n){f[t]=e}return e},R=f["__core-js_shared__"]||_("__core-js_shared__",{}),F=o((function(t){(t.exports=function(t,e){return R[t]||(R[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.4.0",mode:"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})})),V=F("native-function-to-string",Function.toString),G=f.WeakMap,$="function"==typeof G&&/native code/.test(V.call(G)),z=0,H=Math.random(),q=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++z+H).toString(36)},W=F("keys"),B=function(t){return W[t]||(W[t]=q(t))},J={},U=f.WeakMap;if($){var Y=new U,K=Y.get,Q=Y.has,X=Y.set;i=function(t,e){return X.call(Y,t,e),e},u=function(t){return K.call(Y,t)||{}},a=function(t){return Q.call(Y,t)}}else{var Z=B("state");J[Z]=!0,i=function(t,e){return D(t,Z,e),e},u=function(t){return P(t,Z)?t[Z]:{}},a=function(t){return P(t,Z)}}var tt={set:i,get:u,has:a,enforce:function(t){return a(t)?u(t):i(t,{})},getterFor:function(t){return function(e){var n;if(!O(e)||(n=u(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},et=o((function(t){var e=tt.get,n=tt.enforce,r=String(V).split("toString");F("inspectSource",(function(t){return V.call(t)})),(t.exports=function(t,e,o,i){var u=!!i&&!!i.unsafe,a=!!i&&!!i.enumerable,c=!!i&&!!i.noTargetGet;"function"==typeof o&&("string"!=typeof e||P(o,"name")||D(o,"name",e),n(o).source=r.join("string"==typeof e?e:"")),t!==f?(u?!c&&t[e]&&(a=!0):delete t[e],a?t[e]=o:D(t,e,o)):a?t[e]=o:_(e,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||V.call(this)}))})),nt=f,rt=function(t){return"function"==typeof t?t:void 0},ot=function(t,e){return arguments.length<2?rt(nt[t])||rt(f[t]):nt[t]&&nt[t][e]||f[t]&&f[t][e]},it=Math.ceil,ut=Math.floor,at=function(t){return isNaN(t=+t)?0:(t>0?ut:it)(t)},ct=Math.min,ft=function(t){return t>0?ct(at(t),9007199254740991):0},lt=Math.max,st=Math.min,pt=function(t,e){var n=at(t);return n<0?lt(n+e,0):st(n,e)},dt=function(t){return function(e,n,r){var o,i=w(e),u=ft(i.length),a=pt(r,u);if(t&&n!=n){for(;u>a;)if((o=i[a++])!=o)return!0}else for(;u>a;a++)if((t||a in i)&&i[a]===n)return t||a||0;return!t&&-1}},ht={includes:dt(!0),indexOf:dt(!1)}.indexOf,yt=function(t,e){var n,r=w(t),o=0,i=[];for(n in r)!P(J,n)&&P(r,n)&&i.push(n);for(;e.length>o;)P(r,n=e[o++])&&(~ht(i,n)||i.push(n));return i},vt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],gt=vt.concat("length","prototype"),mt={f:Object.getOwnPropertyNames||function(t){return yt(t,gt)}},bt={f:Object.getOwnPropertySymbols},St=ot("Reflect","ownKeys")||function(t){var e=mt.f(L(t)),n=bt.f;return n?e.concat(n(t)):e},wt=function(t,e){for(var n=St(e),r=I.f,o=A.f,i=0;i<n.length;i++){var u=n[i];P(t,u)||r(t,u,o(e,u))}},Ot=/#|\.prototype\./,jt=function(t,e){var n=Pt[xt(t)];return n==kt||n!=Et&&("function"==typeof e?l(e):!!e)},xt=jt.normalize=function(t){return String(t).replace(Ot,".").toLowerCase()},Pt=jt.data={},Et=jt.NATIVE="N",kt=jt.POLYFILL="P",Mt=jt,Tt=A.f,Nt=function(t,e){var n,r,o,i,u,a=t.target,c=t.global,l=t.stat;if(n=c?f:l?f[a]||_(a,{}):(f[a]||{}).prototype)for(r in e){if(i=e[r],o=t.noTargetGet?(u=Tt(n,r))&&u.value:n[r],!Mt(c?r:a+(l?".":"#")+r,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;wt(i,o)}(t.sham||o&&o.sham)&&D(i,"sham",!0),et(n,r,i,t)}},At=!!Object.getOwnPropertySymbols&&!l((function(){return!String(Symbol())})),Lt=Array.isArray||function(t){return"Array"==g(t)},Ct=function(t){return Object(S(t))},It=Object.keys||function(t){return yt(t,vt)},Dt=s?Object.defineProperties:function(t,e){L(t);for(var n,r=It(e),o=r.length,i=0;o>i;)I.f(t,n=r[i++],e[n]);return t},_t=ot("document","documentElement"),Rt=B("IE_PROTO"),Ft=function(){},Vt=function(){var t,e=M("iframe"),n=vt.length;for(e.style.display="none",_t.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),Vt=t.F;n--;)delete Vt.prototype[vt[n]];return Vt()},Gt=Object.create||function(t,e){var n;return null!==t?(Ft.prototype=L(t),n=new Ft,Ft.prototype=null,n[Rt]=t):n=Vt(),void 0===e?n:Dt(n,e)};J[Rt]=!0;var $t,zt,Ht,qt=mt.f,Wt={}.toString,Bt="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Jt={f:function(t){return Bt&&"[object Window]"==Wt.call(t)?function(t){try{return qt(t)}catch(t){return Bt.slice()}}(t):qt(w(t))}},Ut=f.Symbol,Yt=F("wks"),Kt=function(t){return Yt[t]||(Yt[t]=At&&Ut[t]||(At?Ut:q)("Symbol."+t))},Qt={f:Kt},Xt=I.f,Zt=I.f,te=Kt("toStringTag"),ee=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},ne=Kt("species"),re=function(t,e){var n;return Lt(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!Lt(n.prototype)?O(n)&&null===(n=n[ne])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)},oe=[].push,ie=function(t){var e=1==t,n=2==t,r=3==t,o=4==t,i=6==t,u=5==t||i;return function(a,c,f,l){for(var s,p,d=Ct(a),h=b(d),y=function(t,e,n){if(ee(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}(c,f,3),v=ft(h.length),g=0,m=l||re,S=e?m(a,v):n?m(a,0):void 0;v>g;g++)if((u||g in h)&&(p=y(s=h[g],g,d),t))if(e)S[g]=p;else if(p)switch(t){case 3:return!0;case 5:return s;case 6:return g;case 2:oe.call(S,s)}else if(o)return!1;return i?-1:r||o?o:S}},ue={forEach:ie(0),map:ie(1),filter:ie(2),some:ie(3),every:ie(4),find:ie(5),findIndex:ie(6)},ae=ue.forEach,ce=B("hidden"),fe=Kt("toPrimitive"),le=tt.set,se=tt.getterFor("Symbol"),pe=Object.prototype,de=f.Symbol,he=ot("JSON","stringify"),ye=A.f,ve=I.f,ge=Jt.f,me=h.f,be=F("symbols"),Se=F("op-symbols"),we=F("string-to-symbol-registry"),Oe=F("symbol-to-string-registry"),je=F("wks"),xe=f.QObject,Pe=!xe||!xe.prototype||!xe.prototype.findChild,Ee=s&&l((function(){return 7!=Gt(ve({},"a",{get:function(){return ve(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=ye(pe,e);r&&delete pe[e],ve(t,e,n),r&&t!==pe&&ve(pe,e,r)}:ve,ke=function(t,e){var n=be[t]=Gt(de.prototype);return le(n,{type:"Symbol",tag:t,description:e}),s||(n.description=e),n},Me=At&&"symbol"==typeof de.iterator?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof de},Te=function(t,e,n){t===pe&&Te(Se,e,n),L(t);var r=j(e,!0);return L(n),P(be,r)?(n.enumerable?(P(t,ce)&&t[ce][r]&&(t[ce][r]=!1),n=Gt(n,{enumerable:y(0,!1)})):(P(t,ce)||ve(t,ce,y(1,{})),t[ce][r]=!0),Ee(t,r,n)):ve(t,r,n)},Ne=function(t,e){L(t);var n=w(e),r=It(n).concat(Ie(n));return ae(r,(function(e){s&&!Ae.call(n,e)||Te(t,e,n[e])})),t},Ae=function(t){var e=j(t,!0),n=me.call(this,e);return!(this===pe&&P(be,e)&&!P(Se,e))&&(!(n||!P(this,e)||!P(be,e)||P(this,ce)&&this[ce][e])||n)},Le=function(t,e){var n=w(t),r=j(e,!0);if(n!==pe||!P(be,r)||P(Se,r)){var o=ye(n,r);return!o||!P(be,r)||P(n,ce)&&n[ce][r]||(o.enumerable=!0),o}},Ce=function(t){var e=ge(w(t)),n=[];return ae(e,(function(t){P(be,t)||P(J,t)||n.push(t)})),n},Ie=function(t){var e=t===pe,n=ge(e?Se:w(t)),r=[];return ae(n,(function(t){!P(be,t)||e&&!P(pe,t)||r.push(be[t])})),r};(At||(et((de=function(){if(this instanceof de)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=q(t),n=function(t){this===pe&&n.call(Se,t),P(this,ce)&&P(this[ce],e)&&(this[ce][e]=!1),Ee(this,e,y(1,t))};return s&&Pe&&Ee(pe,e,{configurable:!0,set:n}),ke(e,t)}).prototype,"toString",(function(){return se(this).tag})),h.f=Ae,I.f=Te,A.f=Le,mt.f=Jt.f=Ce,bt.f=Ie,s&&(ve(de.prototype,"description",{configurable:!0,get:function(){return se(this).description}}),et(pe,"propertyIsEnumerable",Ae,{unsafe:!0})),Qt.f=function(t){return ke(Kt(t),t)}),Nt({global:!0,wrap:!0,forced:!At,sham:!At},{Symbol:de}),ae(It(je),(function(t){!function(t){var e=nt.Symbol||(nt.Symbol={});P(e,t)||Xt(e,t,{value:Qt.f(t)})}(t)})),Nt({target:"Symbol",stat:!0,forced:!At},{for:function(t){var e=String(t);if(P(we,e))return we[e];var n=de(e);return we[e]=n,Oe[n]=e,n},keyFor:function(t){if(!Me(t))throw TypeError(t+" is not a symbol");if(P(Oe,t))return Oe[t]},useSetter:function(){Pe=!0},useSimple:function(){Pe=!1}}),Nt({target:"Object",stat:!0,forced:!At,sham:!s},{create:function(t,e){return void 0===e?Gt(t):Ne(Gt(t),e)},defineProperty:Te,defineProperties:Ne,getOwnPropertyDescriptor:Le}),Nt({target:"Object",stat:!0,forced:!At},{getOwnPropertyNames:Ce,getOwnPropertySymbols:Ie}),Nt({target:"Object",stat:!0,forced:l((function(){bt.f(1)}))},{getOwnPropertySymbols:function(t){return bt.f(Ct(t))}}),he)&&Nt({target:"JSON",stat:!0,forced:!At||l((function(){var t=de();return"[null]"!=he([t])||"{}"!=he({a:t})||"{}"!=he(Object(t))}))},{stringify:function(t,e,n){for(var r,o=[t],i=1;arguments.length>i;)o.push(arguments[i++]);if(r=e,(O(e)||void 0!==t)&&!Me(t))return Lt(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!Me(e))return e}),o[1]=e,he.apply(null,o)}});de.prototype[fe]||D(de.prototype,fe,de.prototype.valueOf),zt="Symbol",($t=de)&&!P($t=Ht?$t:$t.prototype,te)&&Zt($t,te,{configurable:!0,value:zt}),J[ce]=!0;var De,_e,Re=function(t,e,n){var r=j(e);r in t?I.f(t,r,y(0,n)):t[r]=n},Fe=ot("navigator","userAgent")||"",Ve=f.process,Ge=Ve&&Ve.versions,$e=Ge&&Ge.v8;$e?_e=(De=$e.split("."))[0]+De[1]:Fe&&(!(De=Fe.match(/Edge\/(\d+)/))||De[1]>=74)&&(De=Fe.match(/Chrome\/(\d+)/))&&(_e=De[1]);var ze=_e&&+_e,He=Kt("species"),qe=function(t){return ze>=51||!l((function(){var e=[];return(e.constructor={})[He]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},We=Kt("isConcatSpreadable"),Be=ze>=51||!l((function(){var t=[];return t[We]=!1,t.concat()[0]!==t})),Je=qe("concat"),Ue=function(t){if(!O(t))return!1;var e=t[We];return void 0!==e?!!e:Lt(t)};Nt({target:"Array",proto:!0,forced:!Be||!Je},{concat:function(t){var e,n,r,o,i,u=Ct(this),a=re(u,0),c=0;for(e=-1,r=arguments.length;e<r;e++)if(i=-1===e?u:arguments[e],Ue(i)){if(c+(o=ft(i.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<o;n++,c++)n in i&&Re(a,c,i[n])}else{if(c>=9007199254740991)throw TypeError("Maximum allowed index exceeded");Re(a,c++,i)}return a.length=c,a}});var Ye=ue.filter;Nt({target:"Array",proto:!0,forced:!qe("filter")},{filter:function(t){return Ye(this,t,arguments.length>1?arguments[1]:void 0)}});var Ke=function(t,e){var n=[][t];return!n||!l((function(){n.call(null,e||function(){throw 1},1)}))},Qe=ue.forEach,Xe=Ke("forEach")?function(t){return Qe(this,t,arguments.length>1?arguments[1]:void 0)}:[].forEach;Nt({target:"Array",proto:!0,forced:[].forEach!=Xe},{forEach:Xe});var Ze=[].join,tn=b!=Object,en=Ke("join",",");Nt({target:"Array",proto:!0,forced:tn||en},{join:function(t){return Ze.call(w(this),void 0===t?",":t)}});var nn=function(t){return function(e,n,r,o){ee(n);var i=Ct(e),u=b(i),a=ft(i.length),c=t?a-1:0,f=t?-1:1;if(r<2)for(;;){if(c in u){o=u[c],c+=f;break}if(c+=f,t?c<0:a<=c)throw TypeError("Reduce of empty array with no initial value")}for(;t?c>=0:a>c;c+=f)c in u&&(o=n(o,u[c],c,i));return o}},rn={left:nn(!1),right:nn(!0)}.left;Nt({target:"Array",proto:!0,forced:Ke("reduce")},{reduce:function(t){return rn(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}});var on=Kt("species"),un=[].slice,an=Math.max;Nt({target:"Array",proto:!0,forced:!qe("slice")},{slice:function(t,e){var n,r,o,i=w(this),u=ft(i.length),a=pt(t,u),c=pt(void 0===e?u:e,u);if(Lt(i)&&("function"!=typeof(n=i.constructor)||n!==Array&&!Lt(n.prototype)?O(n)&&null===(n=n[on])&&(n=void 0):n=void 0,n===Array||void 0===n))return un.call(i,a,c);for(r=new(void 0===n?Array:n)(an(c-a,0)),o=0;a<c;a++,o++)a in i&&Re(r,o,i[a]);return r.length=o,r}});var cn=A.f,fn=l((function(){cn(1)}));Nt({target:"Object",stat:!0,forced:!s||fn,sham:!s},{getOwnPropertyDescriptor:function(t,e){return cn(w(t),e)}}),Nt({target:"Object",stat:!0,sham:!s},{getOwnPropertyDescriptors:function(t){for(var e,n,r=w(t),o=A.f,i=St(r),u={},a=0;i.length>a;)void 0!==(n=o(r,e=i[a++]))&&Re(u,e,n);return u}}),Nt({target:"Object",stat:!0,forced:l((function(){It(1)}))},{keys:function(t){return It(Ct(t))}});var ln,sn,pn=function(){var t=L(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e},dn=RegExp.prototype.exec,hn=String.prototype.replace,yn=dn,vn=(ln=/a/,sn=/b*/g,dn.call(ln,"a"),dn.call(sn,"a"),0!==ln.lastIndex||0!==sn.lastIndex),gn=void 0!==/()??/.exec("")[1];(vn||gn)&&(yn=function(t){var e,n,r,o,i=this;return gn&&(n=new RegExp("^"+i.source+"$(?!\\s)",pn.call(i))),vn&&(e=i.lastIndex),r=dn.call(i,t),vn&&r&&(i.lastIndex=i.global?r.index+r[0].length:e),gn&&r&&r.length>1&&hn.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r});var mn=yn;Nt({target:"RegExp",proto:!0,forced:/./.exec!==mn},{exec:mn});var bn=Kt("species"),Sn=!l((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),wn=!l((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),On=function(t,e,n,r){var o=Kt(t),i=!l((function(){var e={};return e[o]=function(){return 7},7!=""[t](e)})),u=i&&!l((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[bn]=function(){return n},n.flags="",n[o]=/./[o]),n.exec=function(){return e=!0,null},n[o](""),!e}));if(!i||!u||"replace"===t&&!Sn||"split"===t&&!wn){var a=/./[o],c=n(o,""[t],(function(t,e,n,r,o){return e.exec===mn?i&&!o?{done:!0,value:a.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}})),f=c[0],s=c[1];et(String.prototype,t,f),et(RegExp.prototype,o,2==e?function(t,e){return s.call(t,this,e)}:function(t){return s.call(t,this)}),r&&D(RegExp.prototype[o],"sham",!0)}},jn=function(t){return function(e,n){var r,o,i=String(S(e)),u=at(n),a=i.length;return u<0||u>=a?t?"":void 0:(r=i.charCodeAt(u))<55296||r>56319||u+1===a||(o=i.charCodeAt(u+1))<56320||o>57343?t?i.charAt(u):r:t?i.slice(u,u+2):o-56320+(r-55296<<10)+65536}},xn={codeAt:jn(!1),charAt:jn(!0)}.charAt,Pn=function(t,e,n){return e+(n?xn(t,e).length:1)},En=function(t,e){var n=t.exec;if("function"==typeof n){var r=n.call(t,e);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==g(t))throw TypeError("RegExp#exec called on incompatible receiver");return mn.call(t,e)},kn=Math.max,Mn=Math.min,Tn=Math.floor,Nn=/\$([$&'`]|\d\d?|<[^>]*>)/g,An=/\$([$&'`]|\d\d?)/g,Ln=function(t){return void 0===t?t:String(t)};On("replace",2,(function(t,e,n){return[function(n,r){var o=S(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,o,r):e.call(String(o),n,r)},function(t,o){var i=n(e,t,this,o);if(i.done)return i.value;var u=L(t),a=String(this),c="function"==typeof o;c||(o=String(o));var f=u.global;if(f){var l=u.unicode;u.lastIndex=0}for(var s=[];;){var p=En(u,a);if(null===p)break;if(s.push(p),!f)break;""===String(p[0])&&(u.lastIndex=Pn(a,ft(u.lastIndex),l))}for(var d="",h=0,y=0;y<s.length;y++){p=s[y];for(var v=String(p[0]),g=kn(Mn(at(p.index),a.length),0),m=[],b=1;b<p.length;b++)m.push(Ln(p[b]));var S=p.groups;if(c){var w=[v].concat(m,g,a);void 0!==S&&w.push(S);var O=String(o.apply(void 0,w))}else O=r(v,a,g,m,S,o);g>=h&&(d+=a.slice(h,g)+O,h=g+v.length)}return d+a.slice(h)}];function r(t,n,r,o,i,u){var a=r+t.length,c=o.length,f=An;return void 0!==i&&(i=Ct(i),f=Nn),e.call(u,f,(function(e,u){var f;switch(u.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,r);case"'":return n.slice(a);case"<":f=i[u.slice(1,-1)];break;default:var l=+u;if(0===l)return e;if(l>c){var s=Tn(l/10);return 0===s?e:s<=c?void 0===o[s-1]?u.charAt(1):o[s-1]+u.charAt(1):e}f=o[l-1]}return void 0===f?"":f}))}}));var Cn=Kt("match"),In=Kt("species"),Dn=[].push,_n=Math.min,Rn=!l((function(){return!RegExp(4294967295,"y")}));On("split",2,(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=String(S(this)),o=void 0===n?4294967295:n>>>0;if(0===o)return[];if(void 0===t)return[r];if(!function(t){var e;return O(t)&&(void 0!==(e=t[Cn])?!!e:"RegExp"==g(t))}(t))return e.call(r,t,o);for(var i,u,a,c=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),l=0,s=new RegExp(t.source,f+"g");(i=mn.call(s,r))&&!((u=s.lastIndex)>l&&(c.push(r.slice(l,i.index)),i.length>1&&i.index<r.length&&Dn.apply(c,i.slice(1)),a=i[0].length,l=u,c.length>=o));)s.lastIndex===i.index&&s.lastIndex++;return l===r.length?!a&&s.test("")||c.push(""):c.push(r.slice(l)),c.length>o?c.slice(0,o):c}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var o=S(this),i=null==e?void 0:e[t];return void 0!==i?i.call(e,o,n):r.call(String(o),e,n)},function(t,o){var i=n(r,t,this,o,r!==e);if(i.done)return i.value;var u=L(t),a=String(this),c=function(t,e){var n,r=L(t).constructor;return void 0===r||null==(n=L(r)[In])?e:ee(n)}(u,RegExp),f=u.unicode,l=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(Rn?"y":"g"),s=new c(Rn?u:"^(?:"+u.source+")",l),p=void 0===o?4294967295:o>>>0;if(0===p)return[];if(0===a.length)return null===En(s,a)?[a]:[];for(var d=0,h=0,y=[];h<a.length;){s.lastIndex=Rn?h:0;var v,g=En(s,Rn?a:a.slice(h));if(null===g||(v=_n(ft(s.lastIndex+(Rn?0:h)),a.length))===d)h=Pn(a,h,f);else{if(y.push(a.slice(d,h)),y.length===p)return y;for(var m=1;m<=g.length-1;m++)if(y.push(g[m]),y.length===p)return y;h=d=v}}return y.push(a.slice(d)),y}]}),!Rn);for(var Fn in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var Vn=f[Fn],Gn=Vn&&Vn.prototype;if(Gn&&Gn.forEach!==Xe)try{D(Gn,"forEach",Xe)}catch(t){Gn.forEach=Xe}}var $n=function(t){return t&&t.Math==Math&&t},zn=$n("object"==typeof globalThis&&globalThis)||$n("object"==typeof window&&window)||$n("object"==typeof self&&self)||$n("object"==typeof r&&r)||Function("return this")(),Hn=function(t){try{return!!t()}catch(t){return!0}},qn=!Hn((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),Wn={}.propertyIsEnumerable,Bn=Object.getOwnPropertyDescriptor,Jn={f:Bn&&!Wn.call({1:2},1)?function(t){var e=Bn(this,t);return!!e&&e.enumerable}:Wn},Un=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},Yn={}.toString,Kn="".split,Qn=Hn((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==function(t){return Yn.call(t).slice(8,-1)}(t)?Kn.call(t,""):Object(t)}:Object,Xn=function(t){return Qn(function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}(t))},Zn=function(t){return"object"==typeof t?null!==t:"function"==typeof t},tr=function(t,e){if(!Zn(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!Zn(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!Zn(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!Zn(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},er={}.hasOwnProperty,nr=function(t,e){return er.call(t,e)},rr=zn.document,or=Zn(rr)&&Zn(rr.createElement),ir=!qn&&!Hn((function(){return 7!=Object.defineProperty(function(t){return or?rr.createElement(t):{}}("div"),"a",{get:function(){return 7}}).a})),ur=Object.getOwnPropertyDescriptor,ar={f:qn?ur:function(t,e){if(t=Xn(t),e=tr(e,!0),ir)try{return ur(t,e)}catch(t){}if(nr(t,e))return Un(!Jn.f.call(t,e),t[e])}},cr=/#|\.prototype\./,fr=function(t,e){var n=sr[lr(t)];return n==dr||n!=pr&&("function"==typeof e?Hn(e):!!e)},lr=fr.normalize=function(t){return String(t).replace(cr,".").toLowerCase()},sr=fr.data={},pr=fr.NATIVE="N",dr=fr.POLYFILL="P",hr=fr,yr={},vr=function(t,e,n){if(function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function")}(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}},gr=function(t){if(!Zn(t))throw TypeError(String(t)+" is not an object");return t},mr=Object.defineProperty,br={f:qn?mr:function(t,e,n){if(gr(t),e=tr(e,!0),gr(n),ir)try{return mr(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},Sr=qn?function(t,e,n){return br.f(t,e,Un(1,n))}:function(t,e,n){return t[e]=n,t},wr=ar.f,Or=function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e};!function(t,e){var n,r,o,i,u,a,c,f,l=t.target,s=t.global,p=t.stat,d=t.proto,h=s?zn:p?zn[l]:(zn[l]||{}).prototype,y=s?yr:yr[l]||(yr[l]={}),v=y.prototype;for(o in e)n=!hr(s?o:l+(p?".":"#")+o,t.forced)&&h&&nr(h,o),u=y[o],n&&(a=t.noTargetGet?(f=wr(h,o))&&f.value:h[o]),i=n&&a?a:e[o],n&&typeof u==typeof i||(c=t.bind&&n?vr(i,zn):t.wrap&&n?Or(i):d&&"function"==typeof i?vr(Function.call,i):i,(t.sham||i&&i.sham||u&&u.sham)&&Sr(c,"sham",!0),y[o]=c,d&&(nr(yr,r=l+"Prototype")||Sr(yr,r,{}),yr[r][o]=i,t.real&&v&&!v[o]&&Sr(v,o,i)))}({target:"Object",stat:!0,forced:!qn,sham:!qn},{defineProperty:br.f});var jr=o((function(t){var e=yr.Object,n=t.exports=function(t,n,r){return e.defineProperty(t,n,r)};e.defineProperty.sham&&(n.sham=!0)}));function xr(t,e,n){return e in t?jr(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),jr(t,r.key,r)}}function Er(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var kr="vuexsnapshot",Mr="__".concat(kr,"__"),Tr=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.store=e,this.moduleOptions=n,this.moduleNames=Object.keys(n),this.rootModule=e._modules.root,this.previousDones={}}var n,r,o;return n=t,(r=[{key:"mutationPayload",value:function(t){return Object.assign({},t,xr({},Mr,!0))}},{key:"denamespaceMutation",value:function(t){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Er(n,!0).forEach((function(e){xr(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Er(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t,{type:t.type.replace(/^.+\//,"")})}},{key:"namespaceFromMutation",value:function(t){return t.type.split("/").slice(0,-1).join("/")}},{key:"stateName",value:function(t,e){return"".concat(t,"_").concat(e)}},{key:"findNamespacedModule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rootModule,n=t.split("/");if(!n.length)return!1;var r=e._children[n[0]],o=n.slice(1).join("/");if(r&&r.namespaced)return 1===n.length?r:this.findNamespacedModule(o,r);for(var i in e._children){var u=this.findNamespacedModule(t,e._children[i]);if(u)return u}return!1}},{key:"takeSnapshot",value:function(t,e){this.store.dispatch("".concat(kr,"/snapshot"),xr({module:t,moduleState:e},Mr,!0))}},{key:"takeSnapshotFromMutation",value:function(t){if(!t.payload||!t.payload[Mr])for(var e in this.moduleOptions)if(this.namespaceFromMutation(t)===e){var n=this.findNamespacedModule(e,this.rootModule).state,r=this.denamespaceMutation(t),o=this.moduleOptions[e],i=!1;o&&(i=!o||!o.shouldSnapshot||o.shouldSnapshot(n,r)),i&&this.takeSnapshot(e,n)}}},{key:"takeAllSnapshots",value:function(){var t=this;this.moduleNames.forEach((function(e){var n=t.findNamespacedModule(e,t.rootModule);n&&t.takeSnapshot(e,n.state)}))}},{key:"registerPluginModule",value:function(){var t=this,n=this.moduleNames.reduce((function(e,n){return e[t.stateName(n,"dones")]=[],e[t.stateName(n,"undones")]=[],e}),{});this.store.registerModule(kr,{namespaced:!0,state:n,mutations:{pushStack:function(e,n){var r=n.module,o=n.snapshot,i=n.stack;return e[t.stateName(r,i)].push(o)},popStack:function(n,r){var o=r.module,i=r.stack,u=n[t.stateName(o,i)].pop(),a=t.findNamespacedModule(o,t.rootModule).state,c=t.moduleOptions[o].includeState;for(var f in u)c&&!c(a,f)||(a[f]=e(u[f]))},clearStack:function(e,n){var r=n.module,o=n.stack;e[t.stateName(r,o)]=[]}},actions:{undo:function(t,e){return(0,t.dispatch)("do",{module:e.module,stack:"dones"})},redo:function(t,e){return(0,t.dispatch)("do",{module:e.module,stack:"undones"})},resetUndo:function(e,n){var r=e.commit,o=n.module;r("clearStack",t.mutationPayload({module:o,stack:"dones"}))},resetRedo:function(e,n){var r=e.commit,o=n.module;r("clearStack",t.mutationPayload({module:o,stack:"undones"}))},resetSnapshots:function(t,e){t.commit;var n=t.dispatch,r=e.module;n("resetUndo",{module:r}),n("resetRedo",{module:r})},do:function(n,r){var o=n.commit,i=n.state,u=r.module,a=r.stack,c="dones"===a?"undones":"dones";if(i[t.stateName(u,a)].length){var f=t.findNamespacedModule(u,t.rootModule).state;o("pushStack",t.mutationPayload({module:u,stack:c,snapshot:e(f)})),o("popStack",t.mutationPayload({stack:a,module:u})),t.previousDones[u]=e(f)}},snapshot:function(n,r){var o=n.commit,i=n.dispatch,u=(n.state,r.module),a=r.moduleState,c=e(a);t.previousDones[u]&&o("pushStack",t.mutationPayload({module:u,stack:"dones",snapshot:t.previousDones[u]})),t.previousDones[u]=c,i("resetRedo",{module:u})}},getters:{undoable:function(t,e){return function(t){return e.undoCount(t)>0}},redoable:function(t,e){return function(t){return e.redoCount(t)>0}},undoCount:function(e){return function(n){return e[t.stateName(n,"dones")].length}},redoCount:function(e){return function(n){return e[t.stateName(n,"undones")].length}}}})}}])&&Pr(n.prototype,r),o&&Pr(n,o),t}();t.createPlugin=function(t){return function(e){var n=new Tr(e,t);if(!n.moduleNames.length)throw new Error("Must specify modules to snapshot when initializing VuexStateSnapshot");n.registerPluginModule(),n.takeAllSnapshots(),e.subscribe((function(t,e){return n.takeSnapshotFromMutation(t)}))}},t.createSnapshotHelpers=function(t){var e=n.createNamespacedHelpers(kr),r=function(e,n,r){var o=e(n),i={};for(var u in o)i[u]=r(o[u],t);return i};return{mapGetters:function(t){return r(e.mapGetters,t,(function(t,e){return function(){return t.call(this)(e)}}))},mapActions:function(t){return r(e.mapActions,t,(function(t,e){return function(){return t.call(this,{module:e})}}))}}},Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=vuex-state-snapshot.umd.min.js.map
